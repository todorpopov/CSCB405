# Проектиране и администриране на бази от данни

## Жизнен цикъл на информационна система
- Подходи при проектиране на релационна база от данни
    - Отгоре-надолу.
        - Използва се при проектирането на търговски приложения от тип “база от данни”

        - Проектиране на концептуална схема на базата от данни, като се използва модел от високо ниво (например E-R модел). 
        - Изобразяване на получената схема в множество от отношения.
        - Анализ на отношенията с помощта на функционалните зависимости, като се прилагат четирите неформални мерки за качество.
        - Провеждане на нормализация до трета нормална форма, за да се избегнат транзитивните и частичните функционални зависимости.
    - Релационен синтез (отдолу-нагоре).
        - Теоретичен

        - Спецификация на зависимостите от проектанта на базата и извод на някои от тях с помощта на аксиомите на Армстронг.
        - Синтезиране една голяма релационна схема, съдържаща всички атрибути (т.нар. универсална схема), като имената на атрибутите в нея са уникални.
        - Декомпозиция на универсалната схема – до 3NF.

        -Проблем: при релационния синтез алгоритмите не могат да се прилагат автоматично!

- Методология на проектирането - систематичният процес, обхващащ всички дейности свързани с проектирането на определена база от данни без оглед на модела на СУБД – релационен, обектно-ориентиран, обектно- релационен или друг.

- Класификация на базите от данни
    - Базите от данни могат да се класифицират условно в зависимост от броя на обектите, изграждащи схемата и броя на потребителите:
        - малки бази от данни – до 25 обекта и до 20 потребители;
        - средни по размер бази – около 30-40 обекта и до 100 потребители;
        - големи бази от данни – над 40 различни обекта. 
    - Базите от данни от среден и голям размер се нуждаят от прилагането на методология при проектирането им.

- Защо се прилага методология при проектирането на базата от данни?
    - През 70-те години организациите се ориентират към прилагане на технологията “бази от данни” при изграждането на информационните си системи.
    - СУБД е част от информационната система, която се използва, за да се управляват информационните ресурси.
    - Базата от данни е основният интегриращ елемент на информационната система.

- Фази на жизнения цикъл на информационна система
    - Информационна система - Множеството от взаимосвързани компоненти, които позволяват събиране, обработка, съхраняване и разпространение на информация за подпомагането на процеса на вземане на решения, координацията и контрола в рамките на дадена организация. 
    - Информационна система е организационно средство, което обхваща всички видове информационни дейности. 
    - Съществуват два жизнени цикъла на системата: 
        - макро жизнен цикъл – на информационната система като цяло;
        - микро жизнен цикъл – само на базата от данни.

    - Реализация.
        - информационната система се реализира;
        - базата се зарежда с данни; 
        - транзакциите се реализират и тестват.
    - Валидиране и тестване за приемане на системата.
        - системата се валидира дали отговаря на спецификацията си (потребителските изисквания); 
        - тества се производителността на системата.
    - Експлоатация и съпровождане.
        - данните се конвертират от съществуващите източници на данни; провежда се обучение на потребителите;
        - поддържане на системата; 
        - следене на производителността; 
        - настройване на базата.

    - Дефиниране на системата.
        - дефиниране обхвата на системата, потребителите и приложенията
    - Проектиране на базата.
        - концептуално, логическо и физическо проектиране на базата
    - Реализация на базата.
    - Дефиниране на външна, концептуална и вътрешна схеми. 
        - създаване на файловете на базата;
        - реализация на приложния софтуер.
    - Зареждане или конвертиране на данни.
        - Напълване на файловете на базата с данни.
    - Конвертиране на приложения.
        - Конвертиране на приложенията към новата система.
    - Тестване и валидиране.
    - Експлоатация.
        - Работа с новата система.
    - Управление и поддържане.
        - Следене на производителността.

## Процесът "проектиране на бази от данни"
- Обхваща създаването на база, която да поддържа функционирането на организацията с оглед постигането на нейните цели. 
- Задача: да се проектира логическата и физическа структура на една или повече бази от данни за удовлетворяване на информационните потребности в дадена организация при дефинирано множество от приложения.
- Резултат: схема на базата от данни, която да не е необходимо да се модифицира след окончателната реализация на базата 
- Цели:
    - да се удовлетворят изискванията към съдържанието на данните;  
    - да се осигури подходящо структуриране на информацията; 
    - да се поддържат изискванията към обработките и производителността на системата.

- ФАЗА1: СЪБИРАНЕ И АНАЛИЗ НА ИЗИСКВАНИЯТА
    - Процес на идентификация и анализ на потребителските намерения.
    - Изискванията към базата от данни – определят се от новите и евентуално разработени вече потребителски приложения. 
    - Изискване - възможност, която разработената система предоставя на потребителя. 
    - Цел - разбиране на  нуждите на потребителите на системата.
    - Анализът на изискванията се провежда от системни аналитици - интервюират  потенциалните потребители на базата и изследват съществуващите документи.
    - Дейности:
        - идентификация на потребителските групи и областите на приложение;
        - преглед на съществуващите документи относно приложенията;
        - интервюиране или анкетиране на бъдещите потребители;
        - анализ на оперативната среда и изискванията към обработките.
    - Резултат: описания на изискванията на естествен език - непълни, неточни и двусмислени. 
    - Методи за спецификация - помагат за по-доброто структуриране и представяне на изискванията. 

    -Резултатът е описание на изискванията.

- ФАЗА 2: ПРОЕКТИРАНЕ НА КОНЦЕПТУАЛНАТА БАЗА ОТ ДАННИ
    - Разделя се на две части и включва две паралелни дейности:
        - изследване на изискванията към данните и построяване на концептуална схема на базата;
        - изследване на приложенията и проектиране на транзакциите.
    - Фаза 2А: Проектиране на концептуалната схема – моделиране на данните. Използват се концептуални модели.
    - Фаза 2B: Проектиране на транзакциите – приложения, които се изпълняват върху готовата база. Използват се средства, моделиращи процеси (UML, BPwin........)
    - Резултати: (двете отделни фази се разработват успоредно.)
        - Фаза 2А- концептуална схема в термините на концептуален модел;
        - Фаза 2В - специфициране на транзакциите.

- ФАЗА 3: ИЗБОР НА СУБД - зависи от много фактори
    - Технически
        - Тип на СУБД: релационна, обектно-релационна и др.;
        - Структури на съхранение;
        - Архитектура.
    - Икономически
        - Цена на продукта, обучение, поддържане; 
        - Цена на създаване на базата и конвертиране на данни и приложения.
    - Организационни
        - Организационна философия;
            - Релационна или ОО
            - Предпочитания на продавача
        - Познания на персонала относно софтуера;
        - Наличие на сервизни услуги.

- ФАЗА 4: ЛОГИЧЕСКО ПРОЕКТИРАНЕ
    - Създават се концептуална и външни схеми в термините модела на избраната СУБД, като се трансформира концептуалната схема, получена във Фаза 2А.
    - Процесът протича на два етапа:
        - трансформиране на концептуалната схема в схема на релационна база от данни (най-често използваният модел на данните е релационният);
        - отразяване на специфичните особености на избраната за реализация СУБД върху създадената на предишния етап схема на релационната база.
    - Резултат: описание на схемата на езика за дефиниране на данните на избраната за реализация СУБД 

- Алгоритъм за трансформиране от E-R модел в релационен модел
    - За всеки тип (силен) обект Е от E-R схемата се създава схема R, с колони простите атрибути на типа обект. При наличие на сложен атрибут се включват съставящите го прости компоненти. За ключ на R се избира един от ключовете на обекта Е.
    - За всеки слаб тип обект W, свързан с даден тип обект Е се създава схема R, която включва всички атрибути на W и ключа на типа обект Е, който се явява чужд ключ за схемата R. Собственият ключ на R е съставен и се изгражда от ключа на типа обект Е и частичния ключ на слабия обект.
    - За всяка двоична връзка от вида 1:1 се идентифицират двете участвуващи схеми R и S, като в едната от тях, като чужд ключ се включва ключа на другата.
    - За всяка двоична връзка от вида 1:N между схемите R и S, в схемата от страната на N (например S) се включва ключа на другата схема R, като чужд ключ.
    - За всяка двоична връзка от вида M:N се създава нова схема, която включва ключовете на двата обекта и собствените атрибути на връзката.
    - За всеки многостойностен атрибут се създава нова схема.
    - За всяка връзка със степен по-висока от две, се създава нова схема, която включва ключовете на всички участвуващи обекти и собствените атрибути на връзката.

- Трансформации между понятията на E-R и релационния модели
    - ER Модел - Релационен Модел
        - Тип обект - Отношение, описващо "обект"
        - Връзка 1:1 и 1:N - Чужд ключ
        - Връзка M:N - Отношение, описващо "взаимодействие", с два чужди ключа
        - Прост атрибут - Атрибут
        - Съставен атрибут - Множество от съставящите го атрибути
        - Многостойностен атрибут - Отношение и чужд ключ
        - Ключов атрибут - Ключ

- ФАЗА 5: ПРОЕКТИРАНЕ НА ФИЗИЧЕСКАТА БАЗА
    - Проектиране на физическата база – процес на избор на специфични структури на съхранение и пътища за достъп за файловете. 
    - Цел  - измежду заложените в СУБД възможности да се изберат най – удачните структури за файловете на базата на разработваното приложение.
    - Критерии:
        - време за отговор; 
        - използвано пространство; 
        - среден брой транзакции, които се обработват за минута от системата - критичен параметър при системи, които изискват бърз отговор (банкови информационни системи, системи за резервация на самолетни билети и т.н.).
    - Дейности: 
        - Анализ на транзакциите.
        - Избор на файлови организации (от предлаганите от СУБД).
        - Добавяне на вторични индекси.
        - Прилагане на контролирано излишество в данните, ако това се налага.
        - Оценяване изискванията за дисково пространство.
        - Проектиране на механизмите за защита на базата.
    - Резултат: начално определяне на структурите за съхранение и пътищата за достъп.

- ФАЗА 6: РЕАЛИЗАЦИЯ И НАСТРОЙВАНЕ НА БАЗАТА
    - Отговорен за този процес е АБД. 
    - Основните дейности са:
        - Създаване на празна база.
        - Зареждане на базата с данни – това може да стане:
            - интерактивно;
            - чрез конвертиращи програми.
        - Реализиране на транзакциите от приложните програмисти.
        - Настройване на базата.
    - Под настройване на базата (tuning the database) се разбира процесът на промяна на първоначалния проект на физическата база с оглед постигането на по-добра производителност на системата. 
    - Настройването на базата продължава, докато тя е в употреба всеки път, когато възникнат проблеми с производителността на системата.

## Проектиране на приложенията
- Приложения: транзакции, приложни програми, потребителски интерфейс.
- Приложните програми се реализират с помощта на език от трето или четвърто ниво.
- Транзакциите към базата от данни се задават чрез езика за обработване на данните (може да бъде вграден в език за програмиране) на избраната за реализация на системата СУБД.
- СУБД обикновено притежава собствени средства (генератори на отчети, непроцедурни езици за заявки....), които ускоряват разработването на съответното приложение.  
- Реализират функции, свързани със защита на данните.

## Администриране на данните и базата
- Администриране на данните означава управлението им като организационен ресурс.
- Включва планиране на базата, разработване и поддържане на стандарти, политики и процедури, концептуално и логическо проектиране.
- Персоналът, занимаващ се администрирането на данните отговаря за тях като корпоративен ресурс, управлява използването им от различните потребители и консултира висшия управленски персонал.

- Дейности по администриране на данните
    - Избор на подходящи производствени средства.
    - Разработване на корпоративен модел на данните.
    - Определяне на организационните изисквания към данните.
    - Оценяване обема на данните и вероятното му нарастване.
    - Определяне на шаблони и честота на използване.
    - Провеждане на концептуално и логическо проектиране на базата.
    - Управление речника на данните.
    - Осигуряване на пълна документация, която включва описание модела на организацията, прилаганите стандарти, политики и процедури, употребата на речника и контрола върху крайните потребители.

- Администриране на базата от данни означава управлението на физическата реализация на информационните системи.
- Обхваща проектиране и реализация на физическата база от данни, следене производителността на системата, реорганизация на базата при необходимост, защита.
- Персоналът, занимаващ се с администрирането на базата е технически по-добре ориентиран от този, отговарящ за данните като корпоративен ресурс. 

- Дейности по администриране на базата
    - Оценяване и избор на продукти от тип СУБД.
    - Проектиране на физическата база.
    - Общуване с разработчиците на приложенията.
    - Разработване на стратегии за тестване на системата.
    - Обучение на потребителите.
    - Периодично архивиране на базата.
    - Следене производителността на системата и настройване на базата.
    - Осигуряване на процедури за възстановяване на базата.
    - Обновяване на хардуера и софтуера при необходимост.

## Средства за автоматизация на проектирането
- Автоматизиращите средства за проектиране на бази от данни (CASE-tools) обикновено улесняват:
    - Създаване на диаграма на концептуалната схема като се използва дадена нотация.
    - Преобразуване на концептуалния модел в логически модел на базата.
    - Нормализация на данните.
    - Индексиране на базата.
- Проблемът за настройване на базата се решава от администратора на базата и за него няма автоматизиращи средства!
